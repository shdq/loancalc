{"version":3,"sources":["components/OutputEntity.jsx","components/InputRange.jsx","components/GeneratePdfButton.jsx","components/DateInput.jsx","components/Calculator.jsx","index.js"],"names":["OutputEntity","props","className","title","value","unit","InputRange","handleChange","bind","e","this","onValueChange","target","tooltip","data-tooltip","icon","Number","field","toLocaleString","desc","type","min","minValue","max","maxValue","step","onChange","React","Component","GeneratePdfButton","onClick","DateInput","registerLocale","ru","setDefaultLocale","pdfMake","vfs","pdfFonts","Calculator","roundHelper","number","Math","round","constructRow","paymentDate","loanSum","monthlyInterest","monthlyPayment","monthlyDebtPayment","gracePeriod","text","alignment","format","fillRows","loanTerm","interestRate","startDate","rows","clone","monthlyRate","i","add","row","push","Calculate","handleSumChange","handleTermChange","handleGraceChange","handleRadioChange","handleDateChange","generatePdf","state","selectedValue","moment","outputData","requirements","setState","graceMaxValue","graceValue","minLoanSum","maxLoanSum","maxLoanTerm","keyInterestRate","totalPayments","docDefinition","pageSize","pageOrientation","content","fontSize","color","bold","table","headerRows","widths","body","rowSpan","colSpan","createPdf","download","date","interest","sum","term","grace","gracePayment","pow","toFixed","gracePeriodLabel","name","checked","toPrecision","selected","_d","dateFormat","fixedHeight","showYearDropdown","yearDropdownItemNumber","showYearSelectOnly","customInput","library","faFilePdf","faQuestionCircle","faCaretDown","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ea0b9f92.chunk.js","sourcesContent":["import React from \"react\";\n\nconst OutputEntity = props => {\n  return (\n    <div className=\"output-field\">\n      <p className=\"output-field__description\">\n        {props.title}:&nbsp;\n        <span className=\"output-field__value\">\n          {props.value} {props.unit}\n        </span>\n      </p>\n    </div>\n  );\n};\n\nexport default OutputEntity;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass InputRange extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n  handleChange(e) {\n    this.props.onValueChange(e.target.value);\n  }\n  render() {\n    let tooltip = null;\n    if (this.props.tooltip) {\n      tooltip = (\n        <span className=\"tooltip\" data-tooltip={this.props.tooltip}>\n          &nbsp;\n          <FontAwesomeIcon icon=\"question-circle\" />\n        </span>\n      );\n    }\n    let value = Number(this.props.field.value).toLocaleString(\"ru-RU\");\n    return (\n      <div className=\"input-field\">\n        <p className=\"input-field__description\">\n          {this.props.desc}\n          {tooltip}&nbsp;\n          <span className=\"input-field__range-value\">\n            {value} {this.props.unit}\n          </span>\n        </p>\n        <input\n          className=\"input-field__range\"\n          type=\"range\"\n          min={this.props.field.minValue}\n          max={this.props.field.maxValue}\n          step={this.props.step}\n          value={this.props.field.value}\n          onChange={this.handleChange}\n        />\n        <p className=\"input-field__label\">\n          <span className=\"input-field__label-value input-field__label-value_min\">\n            {this.props.field.minValue.toLocaleString(\"ru-RU\")}\n          </span>\n          <span className=\"input-field__label-value input-field__label-value_max\">\n            {this.props.field.maxValue.toLocaleString(\"ru-RU\")}\n          </span>\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default InputRange;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst GeneratePdfButton = props => {\n  return (\n    <button className=\"download-button\" onClick={props.onClick}>\n      Скачать PDF&nbsp;\n      <FontAwesomeIcon icon=\"file-pdf\" />\n    </button>\n  );\n};\n\nexport default GeneratePdfButton;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass DateInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n  }\n  onClick(e) {\n    this.props.onValueChange(e.target.value);\n  }\n  render() {\n    return (\n      <button className=\"date-picker-button\" onClick={this.props.onClick}>\n        {this.props.value}&nbsp;\n        <FontAwesomeIcon icon=\"caret-down\" />\n      </button>\n    );\n  }\n}\n\nexport default DateInput;\n","import React from \"react\";\n\nimport { RadioGroup, Radio } from \"react-radio-group\";\nimport OutputEntity from \"./OutputEntity\";\nimport InputRange from \"./InputRange\";\nimport GeneratePdfButton from \"./GeneratePdfButton\";\nimport DateInput from \"./DateInput\";\n\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\nimport moment from \"moment\";\nimport \"moment/locale/ru\";\n\nimport DatePicker, { registerLocale, setDefaultLocale } from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.min.css\";\nimport { ru } from \"date-fns/esm/locale\";\nregisterLocale(\"ru\", ru);\nsetDefaultLocale(\"ru\");\n\n// correct fonts import for pdfmake\npdfMake.vfs = pdfFonts.pdfMake.vfs;\n\n// const element = document.getElementsByClassName(\"key-interest-rate__value\");\n// let keyInterestRate = element[0].dataset.value;\n// if (isNaN(keyInterestRate)) {\n//   keyInterestRate = 8;\n//   console.error(\"Key interest rate is not a number\");\n// }\n\nconst keyInterestRate = 6;\n\nclass Calculator extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.Calculate = this.Calculate.bind(this);\n    this.handleSumChange = this.handleSumChange.bind(this);\n    this.handleTermChange = this.handleTermChange.bind(this);\n    this.handleGraceChange = this.handleGraceChange.bind(this);\n    this.handleRadioChange = this.handleRadioChange.bind(this);\n    this.handleDateChange = this.handleDateChange.bind(this);\n    this.generatePdf = this.generatePdf.bind(this);\n    this.roundHelper = this.roundHelper.bind(this);\n    this.fillRows = this.fillRows.bind(this);\n    this.constructRow = this.constructRow.bind(this);\n\n    this.state = {\n      loanSum: {\n        value: 500000,\n        minValue: 50000,\n        maxValue: 5000000,\n      },\n      loanTerm: {\n        value: 36,\n        minValue: 3,\n        maxValue: 36,\n      },\n      gracePeriod: {\n        value: 0,\n        minValue: 0,\n        maxValue: 35,\n      },\n      interestRate: keyInterestRate,\n      selectedValue: \"0\", // default reduction factor\n      startDate: moment(),\n      outputData: {\n        monthlyPayment: 15553.11,\n        gracePeriod: 0,\n        // gracePayment: 3020.83,\n        requirements: \"Поручительства физических или юридических лиц\",\n      },\n    };\n  }\n\n  handleSumChange(loanSum) {\n    this.setState({\n      loanSum: {\n        value: loanSum,\n        minValue: this.state.selectedValue === \"express\" ? 30000 : 50000,\n        maxValue: this.state.selectedValue === \"express\" ? 100000 : 5000000,\n      },\n    });\n    this.Calculate(\n      this.state.interestRate,\n      loanSum,\n      this.state.loanTerm.value,\n      this.state.gracePeriod.value\n    );\n  }\n\n  handleTermChange(loanTerm) {\n    let graceMaxValue;\n    this.state.selectedValue === \"express\"\n      ? (graceMaxValue = 0)\n      : (graceMaxValue = loanTerm - 1);\n    const graceValue =\n      this.state.gracePeriod.value < graceMaxValue\n        ? this.state.gracePeriod.value\n        : graceMaxValue;\n\n    this.setState({\n      loanTerm: {\n        value: loanTerm,\n        minValue: 3,\n        maxValue: this.state.loanTerm.maxValue,\n      },\n      gracePeriod: {\n        value: graceValue,\n        minValue: 0,\n        maxValue: graceMaxValue,\n      },\n    });\n    this.Calculate(\n      this.state.interestRate,\n      this.state.loanSum.value,\n      loanTerm,\n      graceValue\n    );\n  }\n\n  handleGraceChange(gracePeriod) {\n    this.setState({\n      gracePeriod: {\n        value: gracePeriod,\n        minValue: 0,\n        maxValue: this.state.gracePeriod.maxValue,\n      },\n    });\n    this.Calculate(\n      this.state.interestRate,\n      this.state.loanSum.value,\n      this.state.loanTerm.value,\n      gracePeriod\n    );\n  }\n\n  handleRadioChange(value) {\n    let minLoanSum;\n    value === \"express\" ? (minLoanSum = 30000) : (minLoanSum = 50000);\n    let maxLoanSum;\n    value === \"express\" ? (maxLoanSum = 100000) : (maxLoanSum = 5000000);\n    let loanSum = this.state.loanSum.value;\n    if (loanSum < minLoanSum) loanSum = minLoanSum;\n    if (value !== \"express\" && loanSum < minLoanSum + 50000)\n      loanSum = minLoanSum;\n    let interestRate = keyInterestRate - value;\n    let loanTerm = this.state.loanTerm.value;\n    let maxLoanTerm = 36;\n    let graceMaxValue = loanTerm - 1;\n    let graceValue =\n      this.state.gracePeriod.value < graceMaxValue\n        ? this.state.gracePeriod.value\n        : graceMaxValue;\n    if (value === \"s+\") {\n      interestRate = keyInterestRate - 0.5;\n      maxLoanTerm = 12;\n      if (loanTerm > 12) {\n        loanTerm = 12;\n        if (graceValue > 11) {\n          graceValue = 11;\n        }\n      }\n      graceMaxValue = loanTerm - 1;\n    }\n    if (value === \"express\") {\n      interestRate = keyInterestRate;\n      maxLoanTerm = 12;\n      graceMaxValue = 0;\n      graceValue = 0;\n      if (loanTerm > 12) {\n        loanTerm = 12;\n        if (graceValue > 0) {\n          graceValue = 0;\n        }\n      }\n      if (loanSum > maxLoanSum) loanSum = maxLoanSum;\n    }\n    this.setState({\n      selectedValue: value,\n      interestRate: interestRate,\n      loanTerm: {\n        value: loanTerm,\n        minValue: 3,\n        maxValue: maxLoanTerm,\n      },\n      gracePeriod: {\n        value: graceValue,\n        minValue: 0,\n        maxValue: graceMaxValue,\n      },\n      loanSum: {\n        value: loanSum,\n        minValue: minLoanSum,\n        maxValue: maxLoanSum,\n      },\n    });\n    this.Calculate(interestRate, loanSum, loanTerm, graceValue);\n  }\n\n  roundHelper = (number) => Math.round(number * 100) / 100;\n\n  constructRow = (\n    number,\n    paymentDate,\n    loanSum,\n    monthlyInterest,\n    monthlyPayment,\n    monthlyDebtPayment,\n    gracePeriod\n  ) => {\n    return [\n      { text: number, alignment: \"right\" },\n      { text: paymentDate.format(\"MMMM YYYY\"), alignment: \"left\" },\n      { text: this.roundHelper(loanSum), alignment: \"right\" },\n      gracePeriod > 0\n        ? { text: this.roundHelper(monthlyInterest), alignment: \"right\" }\n        : { text: monthlyPayment, alignment: \"right\" },\n      { text: this.roundHelper(monthlyInterest), alignment: \"right\" },\n      gracePeriod > 0\n        ? { text: \"–\", alignment: \"right\" }\n        : { text: this.roundHelper(monthlyDebtPayment), alignment: \"right\" },\n    ];\n  };\n\n  fillRows = (\n    loanSum,\n    loanTerm,\n    gracePeriod,\n    monthlyPayment,\n    interestRate,\n    startDate\n  ) => {\n    const rows = [];\n    const paymentDate = startDate.clone();\n    const monthlyRate = interestRate / 100 / 12;\n\n    for (let i = 1; i <= loanTerm; i++) {\n      paymentDate.add(1, \"month\");\n\n      const monthlyInterest = loanSum * monthlyRate;\n      const monthlyDebtPayment = monthlyPayment - monthlyInterest;\n\n      const row = this.constructRow(\n        i,\n        paymentDate,\n        loanSum,\n        monthlyInterest,\n        monthlyPayment,\n        monthlyDebtPayment,\n        gracePeriod\n      );\n      rows.push(row);\n\n      if (gracePeriod > 0) {\n        gracePeriod--;\n        continue;\n      }\n      loanSum -= monthlyDebtPayment;\n    }\n    return rows;\n  };\n\n  generatePdf() {\n    const rows = this.fillRows(\n      this.state.loanSum.value,\n      this.state.loanTerm.value,\n      this.state.gracePeriod.value,\n      this.state.outputData.monthlyPayment,\n      this.state.interestRate,\n      this.state.startDate\n    );\n\n    let totalPayments;\n    this.state.gracePeriod.value > 0\n      ? (totalPayments =\n          this.state.gracePeriod.value * this.state.outputData.gracePeriod +\n          this.state.outputData.monthlyPayment *\n            (this.state.loanTerm.value - this.state.gracePeriod.value))\n      : (totalPayments =\n          this.state.outputData.monthlyPayment * this.state.loanTerm.value);\n\n    let docDefinition = {\n      // a string or { width: number, height: number }\n      pageSize: \"A4\",\n      pageOrientation: \"landscape\",\n      content: [\n        {\n          text: `График возврата займа от ${this.state.startDate.format(\n            \"D MMMM YYYY\"\n          )} г. *\\n\\n`,\n          fontSize: 18,\n          color: \"#0a6586\",\n        },\n        { text: \"Условия микрозайма:\", bold: true },\n        { text: `Сумма займа: ${this.state.loanSum.value} руб.` },\n        { text: `Срок займа: ${this.state.loanTerm.value} мес.` },\n        {\n          text: `${\n            this.state.gracePeriod.value > 0\n              ? `Льготный период: ${this.state.gracePeriod.value} мес.`\n              : ``\n          }`,\n        },\n        {\n          text: `Годовая ставка: ${Number(\n            this.state.interestRate\n          ).toLocaleString(\"ru-RU\")}%\\n\\n`,\n        },\n        {\n          table: {\n            // headers are automatically repeated if the table spans over multiple pages\n            // you can declare how many rows should be treated as headers\n            headerRows: 2,\n            widths: [25, 100, \"auto\", \"auto\", \"auto\", \"auto\"],\n\n            body: [\n              [\n                { rowSpan: 2, text: \"№\", alignment: \"right\", bold: true },\n                {\n                  rowSpan: 2,\n                  text: \"Дата платежа\",\n                  alignment: \"left\",\n                  bold: true,\n                },\n                {\n                  rowSpan: 2,\n                  text: \"Остаток долга на начало месяца, руб.\",\n                  alignment: \"right\",\n                  bold: true,\n                },\n                {\n                  rowSpan: 2,\n                  text: \"Ежемесячная срочная уплата, руб.\",\n                  alignment: \"right\",\n                  bold: true,\n                },\n                {\n                  text: \"В том числе:\",\n                  colSpan: 2,\n                  alignment: \"center\",\n                  bold: true,\n                },\n                {},\n              ],\n              [\n                {},\n                {},\n                {},\n                {},\n                {\n                  text: \"На выплату процентов, руб.\",\n                  alignment: \"right\",\n                  bold: true,\n                },\n                {\n                  text: \"На погашение долга, руб.\",\n                  alignment: \"right\",\n                  bold: true,\n                },\n              ],\n              ...rows,\n              [\n                { text: \"Итого\", colSpan: 2, bold: true, alignment: \"left\" },\n                {},\n                { text: \"–\", alignment: \"right\", bold: true },\n                {\n                  text: this.roundHelper(totalPayments),\n                  alignment: \"right\",\n                  bold: true,\n                },\n                {\n                  text: this.roundHelper(\n                    totalPayments - this.state.loanSum.value\n                  ),\n                  alignment: \"right\",\n                  bold: true,\n                },\n                {\n                  text: this.state.loanSum.value,\n                  alignment: \"right\",\n                  bold: true,\n                },\n              ],\n            ],\n          },\n        },\n        {\n          text:\n            \"\\n* Не является приложением к договору, расчет предварительный.\",\n        },\n        {\n          text: \"\\n\\nhttps://cmf29.ru/kalkulator\",\n          alignment: \"right\",\n          bold: true,\n          color: \"#0a6586\",\n        },\n      ],\n    };\n    pdfMake\n      .createPdf(docDefinition)\n      .download(`График-платежей-с-${this.state.startDate.format(\"L\")}.pdf`);\n  }\n\n  handleDateChange(date) {\n    this.setState({\n      startDate: moment(date),\n    });\n  }\n\n  Calculate(interest, sum, term, grace) {\n    const monthlyInterest = interest / 100 / 12;\n    let monthlyPayment = this.state.outputData.monthlyPayment;\n    let gracePayment = this.state.outputData.gracePayment;\n    if (grace > 0) {\n      const graceDepreciation =\n        monthlyInterest / (1 - Math.pow(1 + monthlyInterest, -1));\n      gracePayment = (sum * graceDepreciation - sum).toFixed(2);\n      term = term - grace;\n      const depreciation =\n        monthlyInterest / (1 - Math.pow(1 + monthlyInterest, term - term * 2));\n      monthlyPayment = (sum * depreciation).toFixed(2);\n    } else {\n      gracePayment = grace;\n      const depreciation =\n        monthlyInterest / (1 - Math.pow(1 + monthlyInterest, term - term * 2));\n      monthlyPayment = (sum * depreciation).toFixed(2);\n    }\n    let requirements = \"Поручительства физических или юридических лиц\";\n    if (sum > 500000) {\n      requirements =\n        \"Залоговое имущество, поручительства физических или юридических лиц\";\n    }\n    this.setState({\n      outputData: {\n        monthlyPayment: monthlyPayment,\n        gracePeriod: grace,\n        gracePayment: gracePayment,\n        requirements: requirements,\n      },\n    });\n  }\n\n  render() {\n    const loanSum = this.state.loanSum;\n    const loanTerm = this.state.loanTerm;\n    const gracePeriod = this.state.gracePeriod;\n    let gracePeriodLabel = null;\n\n    if (this.state.gracePeriod.value > 0) {\n      gracePeriodLabel = (\n        <OutputEntity\n          title=\"Платеж в льготный период\"\n          value={Number(this.state.outputData.gracePayment).toLocaleString(\n            \"ru-RU\"\n          )}\n          unit=\"&#8381;\" // Ruble symbol\n        />\n      );\n    }\n    return (\n      <div className=\"calculator\">\n        <div className=\"input-group\">\n          <InputRange\n            field={loanSum}\n            onValueChange={this.handleSumChange}\n            unit=\"&#8381;\" // Ruble symbol\n            step={this.state.selectedValue === \"express\" ? \"10000\" : \"50000\"}\n            desc=\"Сумма займа\"\n          />\n          <InputRange\n            field={loanTerm}\n            onValueChange={this.handleTermChange}\n            unit=\"мес.\"\n            step=\"1\"\n            desc=\"Срок займа\"\n          />\n          <InputRange\n            field={gracePeriod}\n            onValueChange={this.handleGraceChange}\n            unit=\"мес.\"\n            step=\"1\"\n            desc=\"Льготный период\"\n            tooltip=\"Период, в котором уплачиваются только проценты.\"\n          />\n          <div className=\"input-field\">\n            <p className=\"input-field__description\">\n              Программы фонда для разных категорий предпринимателей:\n            </p>\n            <RadioGroup\n              className=\"interest-rate-radio\"\n              name=\"interestRateRadio\"\n              selectedValue={this.state.selectedValue}\n              onChange={this.handleRadioChange}\n            >\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"0\"}\n                  value=\"0\"\n                />\n                «Стандарт», «Рефинансирование»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"express\"}\n                  value=\"express\"\n                />\n                «Экспресс»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={\n                    this.state.selectedValue ===\n                    (keyInterestRate / 2).toPrecision(2)\n                  }\n                  value={(keyInterestRate / 2).toPrecision(3)}\n                />\n                «Арктика», «Моногород»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"0.5\"}\n                  value=\"0.5\"\n                />\n                «Сельхозпроизводитель»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"1.5\"}\n                  value=\"1.5\"\n                />\n                «Рециклинг»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"0.25\"}\n                  value=\"0.25\"\n                />\n                «Лизинг», «Местный товаропроизводитель», «Туризм»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"s+\"}\n                  value=\"s+\"\n                />\n                «Startup+»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n            </RadioGroup>\n          </div>\n        </div>\n        <div className=\"output-group\">\n          <OutputEntity\n            title=\"Годовая ставка\"\n            value={Number(this.state.interestRate).toLocaleString(\"ru-RU\")}\n            unit=\"%\"\n          />\n          <OutputEntity\n            title=\"Максимальный срок\"\n            value={this.state.loanTerm.maxValue}\n            unit=\"мес.\"\n          />\n          <OutputEntity\n            title=\"Ежемесячный платеж\"\n            value={Number(this.state.outputData.monthlyPayment).toLocaleString(\n              \"ru-RU\"\n            )}\n            unit=\"&#8381;\" // Ruble symbol\n          />\n          {gracePeriodLabel}\n          <OutputEntity\n            title=\"Требования к заемщику\"\n            value={this.state.outputData.requirements}\n          />\n          <div className=\"output-field\">\n            <div className=\"output-field__description\">\n              График возврата займа от&nbsp;\n              <DatePicker\n                selected={this.state.startDate._d}\n                onChange={this.handleDateChange}\n                dateFormat=\"d MMMM yyyy\"\n                fixedHeight\n                showYearDropdown\n                yearDropdownItemNumber={1}\n                showYearSelectOnly\n                customInput={<DateInput />}\n              />\n              <GeneratePdfButton onClick={this.generatePdf} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Calculator;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport Calculator from \"./components/Calculator.jsx\";\nimport \"./index.css\";\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faFilePdf,\n  faQuestionCircle,\n  faCaretDown\n} from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faFilePdf, faQuestionCircle, faCaretDown);\n\nReactDOM.render(<Calculator />, document.getElementById(\"root\"));\n"],"sourceRoot":""}