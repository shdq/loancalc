(this.webpackJsonploancalc=this.webpackJsonploancalc||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),i=a(37),s=a.n(i),r=a(95),c=a(26),o=a(27),u=a(33),m=a(28),d=a(6),h=a(34),p=a(22),g=function(e){return n.a.createElement("div",{className:"output-field"},n.a.createElement("p",{className:"output-field__description"},e.title,":\xa0",n.a.createElement("span",{className:"output-field__value"},e.value," ",e.unit)))},v=a(29),b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.props.onValueChange(e.target.value)}},{key:"render",value:function(){var e=null;this.props.tooltip&&(e=n.a.createElement("span",{className:"tooltip","data-tooltip":this.props.tooltip},"\xa0",n.a.createElement(v.a,{icon:"question-circle"})));var t=Number(this.props.field.value).toLocaleString("ru-RU");return n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{className:"input-field__description"},this.props.desc,e,"\xa0",n.a.createElement("span",{className:"input-field__range-value"},t," ",this.props.unit)),n.a.createElement("input",{className:"input-field__range",type:"range",min:this.props.field.minValue,max:this.props.field.maxValue,step:this.props.step,value:this.props.field.value,onChange:this.handleChange}),n.a.createElement("p",{className:"input-field__label"},n.a.createElement("span",{className:"input-field__label-value input-field__label-value_min"},this.props.field.minValue.toLocaleString("ru-RU")),n.a.createElement("span",{className:"input-field__label-value input-field__label-value_max"},this.props.field.maxValue.toLocaleString("ru-RU"))))}}]),t}(n.a.Component),f=function(e){return n.a.createElement("button",{className:"download-button",onClick:e.onClick},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c PDF\xa0",n.a.createElement(v.a,{icon:"file-pdf"}))},_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onClick=a.onClick.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"onClick",value:function(e){this.props.onValueChange(e.target.value)}},{key:"render",value:function(){return n.a.createElement("button",{className:"date-picker-button",onClick:this.props.onClick},this.props.value,"\xa0",n.a.createElement(v.a,{icon:"caret-down"}))}}]),t}(n.a.Component),x=a(64),E=a.n(x),C=a(76),N=a.n(C),k=a(48),V=a.n(k),P=(a(107),a(57)),y=(a(111),a(118));Object(P.b)("ru",y.a),Object(P.c)("ru"),E.a.vfs=N.a.pdfMake.vfs;var R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).roundHelper=function(e){return Math.round(100*e)/100},a.constructRow=function(e,t,l,n,i,s,r){return[{text:e,alignment:"right"},{text:t.format("MMMM YYYY"),alignment:"left"},{text:a.roundHelper(l),alignment:"right"},r>0?{text:a.roundHelper(n),alignment:"right"}:{text:i,alignment:"right"},{text:a.roundHelper(n),alignment:"right"},r>0?{text:"\u2013",alignment:"right"}:{text:a.roundHelper(s),alignment:"right"}]},a.fillRows=function(e,t,l,n,i,s){for(var r=[],c=s.clone(),o=i/100/12,u=1;u<=t;u++){c.add(1,"month");var m=e*o,d=n-m,h=a.constructRow(u,c,e,m,n,d,l);r.push(h),l>0?l--:e-=d}return r},a.Calculate=a.Calculate.bind(Object(d.a)(a)),a.handleSumChange=a.handleSumChange.bind(Object(d.a)(a)),a.handleTermChange=a.handleTermChange.bind(Object(d.a)(a)),a.handleGraceChange=a.handleGraceChange.bind(Object(d.a)(a)),a.handleRadioChange=a.handleRadioChange.bind(Object(d.a)(a)),a.handleDateChange=a.handleDateChange.bind(Object(d.a)(a)),a.generatePdf=a.generatePdf.bind(Object(d.a)(a)),a.roundHelper=a.roundHelper.bind(Object(d.a)(a)),a.fillRows=a.fillRows.bind(Object(d.a)(a)),a.constructRow=a.constructRow.bind(Object(d.a)(a)),a.state={loanSum:{value:5e5,minValue:5e4,maxValue:5e6},loanTerm:{value:36,minValue:3,maxValue:36},gracePeriod:{value:0,minValue:0,maxValue:35},interestRate:6,selectedValue:"0",startDate:V()(),outputData:{monthlyPayment:15553.11,gracePeriod:0,requirements:"\u041f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438\u043b\u0438 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043b\u0438\u0446"}},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleSumChange",value:function(e){this.setState({loanSum:{value:e,minValue:"express"===this.state.selectedValue?3e4:5e4,maxValue:"express"===this.state.selectedValue?1e5:5e6}}),this.Calculate(this.state.interestRate,e,this.state.loanTerm.value,this.state.gracePeriod.value)}},{key:"handleTermChange",value:function(e){var t;t="express"===this.state.selectedValue?0:e-1;var a=this.state.gracePeriod.value<t?this.state.gracePeriod.value:t;this.setState({loanTerm:{value:e,minValue:3,maxValue:this.state.loanTerm.maxValue},gracePeriod:{value:a,minValue:0,maxValue:t}}),this.Calculate(this.state.interestRate,this.state.loanSum.value,e,a)}},{key:"handleGraceChange",value:function(e){this.setState({gracePeriod:{value:e,minValue:0,maxValue:this.state.gracePeriod.maxValue}}),this.Calculate(this.state.interestRate,this.state.loanSum.value,this.state.loanTerm.value,e)}},{key:"handleRadioChange",value:function(e){var t,a;t="express"===e?3e4:5e4,a="express"===e?1e5:5e6;var l=this.state.loanSum.value;l<t&&(l=t),"express"!==e&&l<t+5e4&&(l=t);var n=6-e,i=this.state.loanTerm.value,s=36,r=i-1,c=this.state.gracePeriod.value<r?this.state.gracePeriod.value:r;"s+"===e&&(n=5.5,s=12,i>12&&(i=12,c>11&&(c=11)),r=i-1),"express"===e&&(n=6,s=12,r=0,c=0,i>12&&(i=12,c>0&&(c=0)),l>a&&(l=a)),this.setState({selectedValue:e,interestRate:n,loanTerm:{value:i,minValue:3,maxValue:s},gracePeriod:{value:c,minValue:0,maxValue:r},loanSum:{value:l,minValue:t,maxValue:a}}),this.Calculate(n,l,i,c)}},{key:"generatePdf",value:function(){var e,t=this.fillRows(this.state.loanSum.value,this.state.loanTerm.value,this.state.gracePeriod.value,this.state.outputData.monthlyPayment,this.state.interestRate,this.state.startDate);e=this.state.gracePeriod.value>0?this.state.gracePeriod.value*this.state.outputData.gracePeriod+this.state.outputData.monthlyPayment*(this.state.loanTerm.value-this.state.gracePeriod.value):this.state.outputData.monthlyPayment*this.state.loanTerm.value;var a={pageSize:"A4",pageOrientation:"landscape",content:[{text:"\u0413\u0440\u0430\u0444\u0438\u043a \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 \u0437\u0430\u0439\u043c\u0430 \u043e\u0442 ".concat(this.state.startDate.format("D MMMM YYYY")," \u0433. *\n\n"),fontSize:18,color:"#0a6586"},{text:"\u0423\u0441\u043b\u043e\u0432\u0438\u044f \u043c\u0438\u043a\u0440\u043e\u0437\u0430\u0439\u043c\u0430:",bold:!0},{text:"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u0439\u043c\u0430: ".concat(this.state.loanSum.value," \u0440\u0443\u0431.")},{text:"\u0421\u0440\u043e\u043a \u0437\u0430\u0439\u043c\u0430: ".concat(this.state.loanTerm.value," \u043c\u0435\u0441.")},{text:"".concat(this.state.gracePeriod.value>0?"\u041b\u044c\u0433\u043e\u0442\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434: ".concat(this.state.gracePeriod.value," \u043c\u0435\u0441."):"")},{text:"\u0413\u043e\u0434\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430: ".concat(Number(this.state.interestRate).toLocaleString("ru-RU"),"%\n\n")},{table:{headerRows:2,widths:[25,100,"auto","auto","auto","auto"],body:[[{rowSpan:2,text:"\u2116",alignment:"right",bold:!0},{rowSpan:2,text:"\u0414\u0430\u0442\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430",alignment:"left",bold:!0},{rowSpan:2,text:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u0434\u043e\u043b\u0433\u0430 \u043d\u0430 \u043d\u0430\u0447\u0430\u043b\u043e \u043c\u0435\u0441\u044f\u0446\u0430, \u0440\u0443\u0431.",alignment:"right",bold:!0},{rowSpan:2,text:"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u0430\u044f \u0441\u0440\u043e\u0447\u043d\u0430\u044f \u0443\u043f\u043b\u0430\u0442\u0430, \u0440\u0443\u0431.",alignment:"right",bold:!0},{text:"\u0412 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435:",colSpan:2,alignment:"center",bold:!0},{}],[{},{},{},{},{text:"\u041d\u0430 \u0432\u044b\u043f\u043b\u0430\u0442\u0443 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432, \u0440\u0443\u0431.",alignment:"right",bold:!0},{text:"\u041d\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0433\u0430, \u0440\u0443\u0431.",alignment:"right",bold:!0}]].concat(Object(r.a)(t),[[{text:"\u0418\u0442\u043e\u0433\u043e",colSpan:2,bold:!0,alignment:"left"},{},{text:"\u2013",alignment:"right",bold:!0},{text:this.roundHelper(e),alignment:"right",bold:!0},{text:this.roundHelper(e-this.state.loanSum.value),alignment:"right",bold:!0},{text:this.state.loanSum.value,alignment:"right",bold:!0}]])}},{text:"\n* \u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c \u043a \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443, \u0440\u0430\u0441\u0447\u0435\u0442 \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439."},{text:"\n\nhttps://cmf29.ru/kalkulator",alignment:"right",bold:!0,color:"#0a6586"}]};E.a.createPdf(a).download("\u0413\u0440\u0430\u0444\u0438\u043a-\u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439-\u0441-".concat(this.state.startDate.format("L"),".pdf"))}},{key:"handleDateChange",value:function(e){this.setState({startDate:V()(e)})}},{key:"Calculate",value:function(e,t,a,l){var n=e/100/12,i=this.state.outputData.monthlyPayment,s=this.state.outputData.gracePayment;l>0?(s=(t*(n/(1-Math.pow(1+n,-1)))-t).toFixed(2),a-=l,i=(t*(n/(1-Math.pow(1+n,a-2*a)))).toFixed(2)):(s=l,i=(t*(n/(1-Math.pow(1+n,a-2*a)))).toFixed(2));var r="\u041f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438\u043b\u0438 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043b\u0438\u0446";t>5e5&&(r="\u0417\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0435 \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u043e, \u043f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0438\u043b\u0438 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043b\u0438\u0446"),this.setState({outputData:{monthlyPayment:i,gracePeriod:l,gracePayment:s,requirements:r}})}},{key:"render",value:function(){var e=this.state.loanSum,t=this.state.loanTerm,a=this.state.gracePeriod,l=null;return this.state.gracePeriod.value>0&&(l=n.a.createElement(g,{title:"\u041f\u043b\u0430\u0442\u0435\u0436 \u0432 \u043b\u044c\u0433\u043e\u0442\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434",value:Number(this.state.outputData.gracePayment).toLocaleString("ru-RU"),unit:"\u20bd"})),n.a.createElement("div",{className:"calculator"},n.a.createElement("div",{className:"input-group"},n.a.createElement(b,{field:e,onValueChange:this.handleSumChange,unit:"\u20bd",step:"express"===this.state.selectedValue?"10000":"50000",desc:"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u0439\u043c\u0430"}),n.a.createElement(b,{field:t,onValueChange:this.handleTermChange,unit:"\u043c\u0435\u0441.",step:"1",desc:"\u0421\u0440\u043e\u043a \u0437\u0430\u0439\u043c\u0430"}),n.a.createElement(b,{field:a,onValueChange:this.handleGraceChange,unit:"\u043c\u0435\u0441.",step:"1",desc:"\u041b\u044c\u0433\u043e\u0442\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434",tooltip:"\u041f\u0435\u0440\u0438\u043e\u0434, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0443\u043f\u043b\u0430\u0447\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u044b."}),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{className:"input-field__description"},"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0444\u043e\u043d\u0434\u0430 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u0435\u0439:"),n.a.createElement(p.RadioGroup,{className:"interest-rate-radio",name:"interestRateRadio",selectedValue:this.state.selectedValue,onChange:this.handleRadioChange},n.a.createElement("label",{className:"interest-rate-radio__label"},n.a.createElement(p.Radio,{className:"interest-rate-radio__input",checked:"0"===this.state.selectedValue,value:"0"}),"\xab\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\xbb, \xab\u0420\u0435\u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\xbb",n.a.createElement("span",{className:"interest-rate-radio__checkmark"})),n.a.createElement("label",{className:"interest-rate-radio__label"},n.a.createElement(p.Radio,{className:"interest-rate-radio__input",checked:"express"===this.state.selectedValue,value:"express"}),"\xab\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441\xbb",n.a.createElement("span",{className:"interest-rate-radio__checkmark"})),n.a.createElement("label",{className:"interest-rate-radio__label"},n.a.createElement(p.Radio,{className:"interest-rate-radio__input",checked:this.state.selectedValue===3..toPrecision(2),value:3..toPrecision(3)}),"\xab\u0410\u0440\u043a\u0442\u0438\u043a\u0430\xbb, \xab\u041c\u043e\u043d\u043e\u0433\u043e\u0440\u043e\u0434\xbb",n.a.createElement("span",{className:"interest-rate-radio__checkmark"})),n.a.createElement("label",{className:"interest-rate-radio__label"},n.a.createElement(p.Radio,{className:"interest-rate-radio__input",checked:"0.5"===this.state.selectedValue,value:"0.5"}),"\xab\u0421\u0435\u043b\u044c\u0445\u043e\u0437\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\xbb",n.a.createElement("span",{className:"interest-rate-radio__checkmark"})),n.a.createElement("label",{className:"interest-rate-radio__label"},n.a.createElement(p.Radio,{className:"interest-rate-radio__input",checked:"1.5"===this.state.selectedValue,value:"1.5"}),"\xab\u0420\u0435\u0446\u0438\u043a\u043b\u0438\u043d\u0433\xbb",n.a.createElement("span",{className:"interest-rate-radio__checkmark"})),n.a.createElement("label",{className:"interest-rate-radio__label"},n.a.createElement(p.Radio,{className:"interest-rate-radio__input",checked:"0.25"===this.state.selectedValue,value:"0.25"}),"\xab\u041b\u0438\u0437\u0438\u043d\u0433\xbb, \xab\u041c\u0435\u0441\u0442\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440\u043e\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\xbb, \xab\u0422\u0443\u0440\u0438\u0437\u043c\xbb",n.a.createElement("span",{className:"interest-rate-radio__checkmark"})),n.a.createElement("label",{className:"interest-rate-radio__label"},n.a.createElement(p.Radio,{className:"interest-rate-radio__input",checked:"s+"===this.state.selectedValue,value:"s+"}),"\xabStartup+\xbb",n.a.createElement("span",{className:"interest-rate-radio__checkmark"}))))),n.a.createElement("div",{className:"output-group"},n.a.createElement(g,{title:"\u0413\u043e\u0434\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430",value:Number(this.state.interestRate).toLocaleString("ru-RU"),unit:"%"}),n.a.createElement(g,{title:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0440\u043e\u043a",value:this.state.loanTerm.maxValue,unit:"\u043c\u0435\u0441."}),n.a.createElement(g,{title:"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436",value:Number(this.state.outputData.monthlyPayment).toLocaleString("ru-RU"),unit:"\u20bd"}),l,n.a.createElement(g,{title:"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u0437\u0430\u0435\u043c\u0449\u0438\u043a\u0443",value:this.state.outputData.requirements}),n.a.createElement("div",{className:"output-field"},n.a.createElement("div",{className:"output-field__description"},"\u0413\u0440\u0430\u0444\u0438\u043a \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 \u0437\u0430\u0439\u043c\u0430 \u043e\u0442\xa0",n.a.createElement(P.a,{selected:this.state.startDate._d,onChange:this.handleDateChange,dateFormat:"d MMMM yyyy",fixedHeight:!0,showYearDropdown:!0,yearDropdownItemNumber:1,showYearSelectOnly:!0,customInput:n.a.createElement(_,null)}),n.a.createElement(f,{onClick:this.generatePdf})))))}}]),t}(n.a.Component),S=(a(112),a(38)),O=a(62);S.b.add(O.b,O.c,O.a),s.a.render(n.a.createElement(R,null),document.getElementById("root"))},96:function(e,t,a){e.exports=a(113)}},[[96,1,2]]]);
//# sourceMappingURL=main.ea0b9f92.chunk.js.map