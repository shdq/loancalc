{"version":3,"sources":["components/OutputEntity.jsx","components/InputRange.jsx","components/GeneratePdfButton.jsx","components/DateInput.jsx","components/Calculator.jsx","index.js"],"names":["OutputEntity","props","className","title","value","unit","InputRange","React","Component","constructor","super","this","handleChange","bind","e","onValueChange","target","render","tooltip","data-tooltip","icon","Number","field","toLocaleString","desc","type","min","minValue","max","maxValue","step","onChange","GeneratePdfButton","onClick","DateInput","registerLocale","ru","setDefaultLocale","pdfMake","vfs","pdfFonts","keyInterestRate","document","getElementsByClassName","dataset","isNaN","console","error","Calculator","roundHelper","number","Math","round","constructRow","paymentDate","loanSum","monthlyInterest","monthlyPayment","monthlyDebtPayment","gracePeriod","text","alignment","format","fillRows","loanTerm","interestRate","startDate","rows","clone","monthlyRate","i","add","row","push","Calculate","handleSumChange","handleTermChange","handleGraceChange","handleRadioChange","handleDateChange","generatePdf","state","selectedValue","moment","outputData","requirements","setState","graceMaxValue","graceValue","minLoanSum","maxLoanSum","maxLoanTerm","totalPayments","gracePayment","docDefinition","pageSize","pageOrientation","content","fontSize","color","bold","table","headerRows","widths","body","rowSpan","colSpan","createPdf","download","date","interest","sum","term","grace","pow","toFixed","gracePeriodLabel","name","checked","toPrecision","selected","_d","dateFormat","fixedHeight","showYearDropdown","yearDropdownItemNumber","showYearSelectOnly","customInput","library","faFilePdf","faQuestionCircle","faCaretDown","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.fb4e3785.chunk.js","sourcesContent":["import React from \"react\";\n\nconst OutputEntity = props => {\n  return (\n    <div className=\"output-field\">\n      <p className=\"output-field__description\">\n        {props.title}:&nbsp;\n        <span className=\"output-field__value\">\n          {props.value} {props.unit}\n        </span>\n      </p>\n    </div>\n  );\n};\n\nexport default OutputEntity;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass InputRange extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n  handleChange(e) {\n    this.props.onValueChange(e.target.value);\n  }\n  render() {\n    let tooltip = null;\n    if (this.props.tooltip) {\n      tooltip = (\n        <span className=\"tooltip\" data-tooltip={this.props.tooltip}>\n          &nbsp;\n          <FontAwesomeIcon icon=\"question-circle\" />\n        </span>\n      );\n    }\n    let value = Number(this.props.field.value).toLocaleString(\"ru-RU\");\n    return (\n      <div className=\"input-field\">\n        <p className=\"input-field__description\">\n          {this.props.desc}\n          {tooltip}&nbsp;\n          <span className=\"input-field__range-value\">\n            {value} {this.props.unit}\n          </span>\n        </p>\n        <input\n          className=\"input-field__range\"\n          type=\"range\"\n          min={this.props.field.minValue}\n          max={this.props.field.maxValue}\n          step={this.props.step}\n          value={this.props.field.value}\n          onChange={this.handleChange}\n        />\n        <p className=\"input-field__label\">\n          <span className=\"input-field__label-value input-field__label-value_min\">\n            {this.props.field.minValue.toLocaleString(\"ru-RU\")}\n          </span>\n          <span className=\"input-field__label-value input-field__label-value_max\">\n            {this.props.field.maxValue.toLocaleString(\"ru-RU\")}\n          </span>\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default InputRange;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nconst GeneratePdfButton = props => {\n  return (\n    <button className=\"download-button\" onClick={props.onClick}>\n      Скачать PDF&nbsp;\n      <FontAwesomeIcon icon=\"file-pdf\" />\n    </button>\n  );\n};\n\nexport default GeneratePdfButton;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass DateInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n  }\n  onClick(e) {\n    this.props.onValueChange(e.target.value);\n  }\n  render() {\n    return (\n      <button className=\"date-picker-button\" onClick={this.props.onClick}>\n        {this.props.value}&nbsp;\n        <FontAwesomeIcon icon=\"caret-down\" />\n      </button>\n    );\n  }\n}\n\nexport default DateInput;\n","import React from \"react\";\n\nimport { RadioGroup, Radio } from \"react-radio-group\";\nimport OutputEntity from \"./OutputEntity\";\nimport InputRange from \"./InputRange\";\nimport GeneratePdfButton from \"./GeneratePdfButton\";\nimport DateInput from \"./DateInput\";\n\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\nimport moment from \"moment\";\nimport \"moment/locale/ru\";\n\nimport DatePicker, { registerLocale, setDefaultLocale } from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.min.css\";\nimport { ru } from \"date-fns/esm/locale\";\nregisterLocale(\"ru\", ru);\nsetDefaultLocale(\"ru\");\n\n// correct fonts import for pdfmake\npdfMake.vfs = pdfFonts.pdfMake.vfs;\n\nconst element = document.getElementsByClassName(\"key-interest-rate__value\");\nlet keyInterestRate = element[0].dataset.value;\nif (isNaN(keyInterestRate)) {\n  keyInterestRate = 8;\n  console.error(\"Key interest rate is not a number\");\n}\n\nclass Calculator extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.Calculate = this.Calculate.bind(this);\n    this.handleSumChange = this.handleSumChange.bind(this);\n    this.handleTermChange = this.handleTermChange.bind(this);\n    this.handleGraceChange = this.handleGraceChange.bind(this);\n    this.handleRadioChange = this.handleRadioChange.bind(this);\n    this.handleDateChange = this.handleDateChange.bind(this);\n    this.generatePdf = this.generatePdf.bind(this);\n    this.roundHelper = this.roundHelper.bind(this);\n    this.fillRows = this.fillRows.bind(this);\n    this.constructRow = this.constructRow.bind(this);\n\n    this.state = {\n      loanSum: {\n        value: 500000,\n        minValue: 50000,\n        maxValue: 5000000,\n      },\n      loanTerm: {\n        value: 36,\n        minValue: 3,\n        maxValue: 36,\n      },\n      gracePeriod: {\n        value: 0,\n        minValue: 0,\n        maxValue: 35,\n      },\n      interestRate: keyInterestRate,\n      selectedValue: \"0\", // default reduction factor\n      startDate: moment(),\n      outputData: {\n        monthlyPayment: 15553.11,\n        gracePeriod: 0,\n        // gracePayment: 3020.83,\n        requirements: \"Поручительства физических или юридических лиц\",\n      },\n    };\n  }\n\n  handleSumChange(loanSum) {\n    let minValue, maxValue;\n    switch (this.state.selectedValue) {\n      case \"express\":\n        minValue = 30000;\n        maxValue = 100000;\n        break;\n      case \"covid\":\n        minValue = 50000;\n        maxValue = 500000;\n        break;\n      default:\n        minValue = 50000;\n        maxValue = 5000000;\n    }\n\n    this.setState({\n      loanSum: {\n        value: loanSum,\n        minValue: minValue,\n        maxValue: maxValue,\n      },\n    });\n    this.Calculate(\n      this.state.interestRate,\n      loanSum,\n      this.state.loanTerm.value,\n      this.state.gracePeriod.value\n    );\n  }\n\n  handleTermChange(loanTerm) {\n    let graceMaxValue;\n    this.state.selectedValue === \"express\"\n      ? (graceMaxValue = 0)\n      : (graceMaxValue = loanTerm - 1);\n    const graceValue =\n      this.state.gracePeriod.value < graceMaxValue\n        ? this.state.gracePeriod.value\n        : graceMaxValue;\n\n    this.setState({\n      loanTerm: {\n        value: loanTerm,\n        minValue: 3,\n        maxValue: this.state.loanTerm.maxValue,\n      },\n      gracePeriod: {\n        value: graceValue,\n        minValue: 0,\n        maxValue: graceMaxValue,\n      },\n    });\n    this.Calculate(\n      this.state.interestRate,\n      this.state.loanSum.value,\n      loanTerm,\n      graceValue\n    );\n  }\n\n  handleGraceChange(gracePeriod) {\n    this.setState({\n      gracePeriod: {\n        value: gracePeriod,\n        minValue: 0,\n        maxValue: this.state.gracePeriod.maxValue,\n      },\n    });\n    this.Calculate(\n      this.state.interestRate,\n      this.state.loanSum.value,\n      this.state.loanTerm.value,\n      gracePeriod\n    );\n  }\n\n  handleRadioChange(value) {\n    let minLoanSum, maxLoanSum;\n    switch (value) {\n      case \"express\":\n        minLoanSum = 30000;\n        maxLoanSum = 100000;\n        break;\n      case \"covid\":\n        minLoanSum = 50000;\n        maxLoanSum = 500000;\n        break;\n      default:\n        minLoanSum = 50000;\n        maxLoanSum = 5000000;\n    }\n\n    let loanSum = this.state.loanSum.value;\n    if (loanSum < minLoanSum) loanSum = minLoanSum;\n    if (value !== \"express\" && loanSum < minLoanSum + 50000)\n      loanSum = minLoanSum;\n    let interestRate = keyInterestRate - value;\n    let loanTerm = this.state.loanTerm.value;\n    let maxLoanTerm = 36;\n    let graceMaxValue = loanTerm - 1;\n    let graceValue =\n      this.state.gracePeriod.value < graceMaxValue\n        ? this.state.gracePeriod.value\n        : graceMaxValue;\n    if (value === \"s+\") {\n      interestRate = keyInterestRate - 0.5;\n      maxLoanTerm = 12;\n      if (loanTerm > 12) {\n        loanTerm = 12;\n        if (graceValue > 11) {\n          graceValue = 11;\n        }\n      }\n      graceMaxValue = loanTerm - 1;\n    }\n    // COVID PROGRAM\n    if (value === \"covid\") {\n      interestRate = 1;\n      maxLoanTerm = 24;\n      if (loanTerm > 24) {\n        loanTerm = 24;\n        if (graceValue > 23) {\n          graceValue = 23;\n        }\n      }\n      graceMaxValue = loanTerm - 1;\n      if (loanSum > maxLoanSum) loanSum = maxLoanSum;\n    }\n    if (value === \"express\") {\n      interestRate = keyInterestRate;\n      maxLoanTerm = 12;\n      graceMaxValue = 0;\n      graceValue = 0;\n      if (loanTerm > 12) {\n        loanTerm = 12;\n        if (graceValue > 0) {\n          graceValue = 0;\n        }\n      }\n      if (loanSum > maxLoanSum) loanSum = maxLoanSum;\n    }\n    this.setState({\n      selectedValue: value,\n      interestRate: interestRate,\n      loanTerm: {\n        value: loanTerm,\n        minValue: 3,\n        maxValue: maxLoanTerm,\n      },\n      gracePeriod: {\n        value: graceValue,\n        minValue: 0,\n        maxValue: graceMaxValue,\n      },\n      loanSum: {\n        value: loanSum,\n        minValue: minLoanSum,\n        maxValue: maxLoanSum,\n      },\n    });\n    this.Calculate(interestRate, loanSum, loanTerm, graceValue);\n  }\n\n  roundHelper = (number) => Math.round(number * 100) / 100;\n\n  constructRow = (\n    number,\n    paymentDate,\n    loanSum,\n    monthlyInterest,\n    monthlyPayment,\n    monthlyDebtPayment,\n    gracePeriod\n  ) => {\n    return [\n      { text: number, alignment: \"right\" },\n      { text: paymentDate.format(\"MMMM YYYY\"), alignment: \"left\" },\n      { text: this.roundHelper(loanSum), alignment: \"right\" },\n      gracePeriod > 0\n        ? { text: this.roundHelper(monthlyInterest), alignment: \"right\" }\n        : { text: monthlyPayment, alignment: \"right\" },\n      { text: this.roundHelper(monthlyInterest), alignment: \"right\" },\n      gracePeriod > 0\n        ? { text: \"–\", alignment: \"right\" }\n        : { text: this.roundHelper(monthlyDebtPayment), alignment: \"right\" },\n    ];\n  };\n\n  fillRows = (\n    loanSum,\n    loanTerm,\n    gracePeriod,\n    monthlyPayment,\n    interestRate,\n    startDate\n  ) => {\n    const rows = [];\n    const paymentDate = startDate.clone();\n    const monthlyRate = interestRate / 100 / 12;\n\n    for (let i = 1; i <= loanTerm; i++) {\n      paymentDate.add(1, \"month\");\n\n      const monthlyInterest = loanSum * monthlyRate;\n      const monthlyDebtPayment = monthlyPayment - monthlyInterest;\n\n      const row = this.constructRow(\n        i,\n        paymentDate,\n        loanSum,\n        monthlyInterest,\n        monthlyPayment,\n        monthlyDebtPayment,\n        gracePeriod\n      );\n      rows.push(row);\n\n      if (gracePeriod > 0) {\n        gracePeriod--;\n        continue;\n      }\n      loanSum -= monthlyDebtPayment;\n    }\n    return rows;\n  };\n\n  generatePdf() {\n    const rows = this.fillRows(\n      this.state.loanSum.value,\n      this.state.loanTerm.value,\n      this.state.gracePeriod.value,\n      this.state.outputData.monthlyPayment,\n      this.state.interestRate,\n      this.state.startDate\n    );\n\n    let totalPayments;\n    this.state.gracePeriod.value > 0\n      ? (totalPayments =\n          this.state.gracePeriod.value * this.state.outputData.gracePayment +\n          this.state.outputData.monthlyPayment *\n            (this.state.loanTerm.value - this.state.gracePeriod.value))\n      : (totalPayments =\n          this.state.outputData.monthlyPayment * this.state.loanTerm.value);\n\n    let docDefinition = {\n      // a string or { width: number, height: number }\n      pageSize: \"A4\",\n      pageOrientation: \"landscape\",\n      content: [\n        {\n          text: `График возврата займа от ${this.state.startDate.format(\n            \"D MMMM YYYY\"\n          )} г. *\\n\\n`,\n          fontSize: 18,\n          color: \"#0a6586\",\n        },\n        { text: \"Условия микрозайма:\", bold: true },\n        { text: `Сумма займа: ${this.state.loanSum.value} руб.` },\n        { text: `Срок займа: ${this.state.loanTerm.value} мес.` },\n        {\n          text: `${\n            this.state.gracePeriod.value > 0\n              ? `Льготный период: ${this.state.gracePeriod.value} мес.`\n              : ``\n          }`,\n        },\n        {\n          text: `Годовая ставка: ${Number(\n            this.state.interestRate\n          ).toLocaleString(\"ru-RU\")}%\\n\\n`,\n        },\n        {\n          table: {\n            // headers are automatically repeated if the table spans over multiple pages\n            // you can declare how many rows should be treated as headers\n            headerRows: 2,\n            widths: [25, 100, \"auto\", \"auto\", \"auto\", \"auto\"],\n\n            body: [\n              [\n                { rowSpan: 2, text: \"№\", alignment: \"right\", bold: true },\n                {\n                  rowSpan: 2,\n                  text: \"Дата платежа\",\n                  alignment: \"left\",\n                  bold: true,\n                },\n                {\n                  rowSpan: 2,\n                  text: \"Остаток долга на начало месяца, руб.\",\n                  alignment: \"right\",\n                  bold: true,\n                },\n                {\n                  rowSpan: 2,\n                  text: \"Ежемесячная срочная уплата, руб.\",\n                  alignment: \"right\",\n                  bold: true,\n                },\n                {\n                  text: \"В том числе:\",\n                  colSpan: 2,\n                  alignment: \"center\",\n                  bold: true,\n                },\n                {},\n              ],\n              [\n                {},\n                {},\n                {},\n                {},\n                {\n                  text: \"На выплату процентов, руб.\",\n                  alignment: \"right\",\n                  bold: true,\n                },\n                {\n                  text: \"На погашение долга, руб.\",\n                  alignment: \"right\",\n                  bold: true,\n                },\n              ],\n              ...rows,\n              [\n                { text: \"Итого\", colSpan: 2, bold: true, alignment: \"left\" },\n                {},\n                { text: \"–\", alignment: \"right\", bold: true },\n                {\n                  text: this.roundHelper(totalPayments),\n                  alignment: \"right\",\n                  bold: true,\n                },\n                {\n                  text: this.roundHelper(\n                    totalPayments - this.state.loanSum.value\n                  ),\n                  alignment: \"right\",\n                  bold: true,\n                },\n                {\n                  text: this.state.loanSum.value,\n                  alignment: \"right\",\n                  bold: true,\n                },\n              ],\n            ],\n          },\n        },\n        {\n          text:\n            \"\\n* Не является приложением к договору, расчет предварительный.\",\n        },\n        {\n          text: \"\\n\\nhttps://cmf29.ru/kalkulator\",\n          alignment: \"right\",\n          bold: true,\n          color: \"#0a6586\",\n        },\n      ],\n    };\n    pdfMake\n      .createPdf(docDefinition)\n      .download(`График-платежей-с-${this.state.startDate.format(\"L\")}.pdf`);\n  }\n\n  handleDateChange(date) {\n    this.setState({\n      startDate: moment(date),\n    });\n  }\n\n  Calculate(interest, sum, term, grace) {\n    const monthlyInterest = interest / 100 / 12;\n    let monthlyPayment = this.state.outputData.monthlyPayment;\n    let gracePayment = this.state.outputData.gracePayment;\n    if (grace > 0) {\n      const graceDepreciation =\n        monthlyInterest / (1 - Math.pow(1 + monthlyInterest, -1));\n      gracePayment = (sum * graceDepreciation - sum).toFixed(2);\n      term = term - grace;\n      const depreciation =\n        monthlyInterest / (1 - Math.pow(1 + monthlyInterest, term - term * 2));\n      monthlyPayment = (sum * depreciation).toFixed(2);\n    } else {\n      gracePayment = grace;\n      const depreciation =\n        monthlyInterest / (1 - Math.pow(1 + monthlyInterest, term - term * 2));\n      monthlyPayment = (sum * depreciation).toFixed(2);\n    }\n    let requirements = \"Поручительства физических или юридических лиц\";\n    if (sum > 500000) {\n      requirements =\n        \"Залоговое имущество, поручительства физических или юридических лиц\";\n    }\n    this.setState({\n      outputData: {\n        monthlyPayment: monthlyPayment,\n        gracePeriod: grace,\n        gracePayment: gracePayment,\n        requirements: requirements,\n      },\n    });\n  }\n\n  render() {\n    const loanSum = this.state.loanSum;\n    const loanTerm = this.state.loanTerm;\n    const gracePeriod = this.state.gracePeriod;\n    let gracePeriodLabel = null;\n\n    if (this.state.gracePeriod.value > 0) {\n      gracePeriodLabel = (\n        <OutputEntity\n          title=\"Платеж в льготный период\"\n          value={Number(this.state.outputData.gracePayment).toLocaleString(\n            \"ru-RU\"\n          )}\n          unit=\"&#8381;\" // Ruble symbol\n        />\n      );\n    }\n    return (\n      <div className=\"calculator\">\n        <div className=\"input-group\">\n          <InputRange\n            field={loanSum}\n            onValueChange={this.handleSumChange}\n            unit=\"&#8381;\" // Ruble symbol\n            step={this.state.selectedValue === \"express\" ? \"10000\" : \"50000\"}\n            desc=\"Сумма займа\"\n          />\n          <InputRange\n            field={loanTerm}\n            onValueChange={this.handleTermChange}\n            unit=\"мес.\"\n            step=\"1\"\n            desc=\"Срок займа\"\n          />\n          <InputRange\n            field={gracePeriod}\n            onValueChange={this.handleGraceChange}\n            unit=\"мес.\"\n            step=\"1\"\n            desc=\"Льготный период\"\n            tooltip=\"Период, в котором уплачиваются только проценты.\"\n          />\n          <div className=\"input-field\">\n            <p className=\"input-field__description\">\n              Программы фонда для разных категорий предпринимателей:\n            </p>\n            <RadioGroup\n              className=\"interest-rate-radio\"\n              name=\"interestRateRadio\"\n              selectedValue={this.state.selectedValue}\n              onChange={this.handleRadioChange}\n            >\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"covid\"}\n                  value=\"covid\"\n                />\n                «Антикризисная»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"0\"}\n                  value=\"0\"\n                />\n                «Стандарт», «Рефинансирование»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"express\"}\n                  value=\"express\"\n                />\n                «Экспресс»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={\n                    this.state.selectedValue ===\n                    (keyInterestRate / 2).toPrecision(2)\n                  }\n                  value={(keyInterestRate / 2).toPrecision(3)}\n                />\n                «Арктика», «Моногород»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"0.5\"}\n                  value=\"0.5\"\n                />\n                «Сельхозпроизводитель»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"1.5\"}\n                  value=\"1.5\"\n                />\n                «Рециклинг», «Социальное предпринимательство»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"0.25\"}\n                  value=\"0.25\"\n                />\n                «Лизинг», «Местный товаропроизводитель», «Туризм»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label>\n              {/* <label className=\"interest-rate-radio__label\">\n                <Radio\n                  className=\"interest-rate-radio__input\"\n                  checked={this.state.selectedValue === \"s+\"}\n                  value=\"s+\"\n                />\n                «Startup+»\n                <span className=\"interest-rate-radio__checkmark\" />\n              </label> */}\n            </RadioGroup>\n          </div>\n        </div>\n        <div className=\"output-group\">\n          <OutputEntity\n            title=\"Годовая ставка\"\n            value={Number(this.state.interestRate).toLocaleString(\"ru-RU\")}\n            unit=\"%\"\n          />\n          <OutputEntity\n            title=\"Максимальный срок\"\n            value={this.state.loanTerm.maxValue}\n            unit=\"мес.\"\n          />\n          <OutputEntity\n            title=\"Ежемесячный платеж\"\n            value={Number(this.state.outputData.monthlyPayment).toLocaleString(\n              \"ru-RU\"\n            )}\n            unit=\"&#8381;\" // Ruble symbol\n          />\n          {gracePeriodLabel}\n          <OutputEntity\n            title=\"Требования к заемщику\"\n            value={this.state.outputData.requirements}\n          />\n          <div className=\"output-field\">\n            <div className=\"output-field__description\">\n              График возврата займа от&nbsp;\n              <DatePicker\n                selected={this.state.startDate._d}\n                onChange={this.handleDateChange}\n                dateFormat=\"d MMMM yyyy\"\n                fixedHeight\n                showYearDropdown\n                yearDropdownItemNumber={1}\n                showYearSelectOnly\n                customInput={<DateInput />}\n              />\n              <GeneratePdfButton onClick={this.generatePdf} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Calculator;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport Calculator from \"./components/Calculator.jsx\";\nimport \"./index.css\";\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faFilePdf,\n  faQuestionCircle,\n  faCaretDown\n} from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faFilePdf, faQuestionCircle, faCaretDown);\n\nReactDOM.render(<Calculator />, document.getElementById(\"root\"));\n"],"sourceRoot":""}